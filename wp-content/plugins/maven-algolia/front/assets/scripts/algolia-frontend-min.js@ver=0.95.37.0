var Hogan={};!function(t,e){function n(t,e,n){var i;return e&&"object"==typeof e&&(null!=e[t]?i=e[t]:n&&e.get&&"function"==typeof e.get&&(i=e.get(t))),i}function i(t,e,n,i,s,r){function a(){}function o(){}a.prototype=t,o.prototype=t.subs;var u,c=new a;c.subs=new o,c.subsText={},c.ib(),i=i||{},c.stackSubs=i;for(u in e)i[u]||(i[u]=e[u]),c.subsText[u]=r;for(u in i)c.subs[u]=i[u];s=s||{},c.stackPartials=s;for(u in n)s[u]||(s[u]=n[u]);for(u in s)c.partials[u]=s[u];return c}function s(t){return String(null===t||void 0===t?"":t)}function r(t){return t=s(t),h.test(t)?t.replace(a,"&amp;").replace(o,"&lt;").replace(u,"&gt;").replace(c,"&#39;").replace(l,"&quot;"):t}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.ib()},t.Template.prototype={r:function(t,e,n){return""},v:r,t:s,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],s=e[n.name];if(n.instance&&n.base==s)return n.instance;if("string"==typeof s){if(!this.c)throw new Error("No compiler available.");s=this.c.compile(s,this.options)}return s?(this.partials[t].base=s,n.subs&&(void 0===this.activeSub&&(e.stackText=this.text),s=i(s,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText||this.text)),this.partials[t].instance=s,s):null},rp:function(t,e,n,i){var s=this.ep(t,n);return s?s.ri(e,n,i):""},rs:function(t,e,n){var i=t[t.length-1];if(!p(i))return void n(t,e,this);for(var s=0;s<i.length;s++)t.push(i[s]),n(t,e,this),t.pop()},s:function(t,e,n,i,s,r,a){var o;return p(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ms(t,e,n,i,s,r,a)),o=!!t,!i&&o&&e&&e.push("object"==typeof t?t:e[e.length-1]),o)},d:function(t,e,i,s){var r,a=t.split("."),o=this.f(a[0],e,i,s),u=this.options.modelGet,c=null;if("."===t&&p(e[e.length-2]))o=e[e.length-1];else for(var l=1;l<a.length;l++)r=n(a[l],o,u),null!=r?(c=o,o=r):o="";return s&&!o?!1:(s||"function"!=typeof o||(e.push(c),o=this.mv(o,e,i),e.pop()),o)},f:function(t,e,i,s){for(var r=!1,a=null,o=!1,u=this.options.modelGet,c=e.length-1;c>=0;c--)if(a=e[c],r=n(t,a,u),null!=r){o=!0;break}return o?(s||"function"!=typeof r||(r=this.mv(r,e,i)),r):s?!1:""},ls:function(t,e,n,i,r){var a=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(s(t.call(e,i)),e,n)),this.options.delimiters=a,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ib:function(){this.buf=e?[]:""},ms:function(t,e,n,i,s,r,a){var o,u=e[e.length-1],c=t.call(u);return"function"==typeof c?i?!0:(o=this.activeSub&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,u,n,o.substring(s,r),a)):c},mv:function(t,e,n){var i=e[e.length-1],r=t.call(i);return"function"==typeof r?this.ct(s(r.call(i)),i,n):r},sub:function(t,e,n,i){var s=this.subs[t];s&&(this.activeSub=t,s(e,n,this,i),this.activeSub=!1)}};var a=/&/g,o=/</g,u=/>/g,c=/\'/g,l=/\"/g,h=/[&<>\"\']/,p=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:Hogan),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,s=t.length;s>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function s(e,n,i,o){var u=[],c=null,l=null,h=null;for(l=i[i.length-1];e.length>0;){if(h=e.shift(),l&&"<"==l.tag&&!(h.tag in b))throw new Error("Illegal content in < super tag.");if(t.tags[h.tag]<=t.tags.$||r(h,o))i.push(h),h.nodes=s(e,h.tag,i,o);else{if("/"==h.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+h.n);if(c=i.pop(),h.n!=c.n&&!a(h.n,c.n,o))throw new Error("Nesting error: "+c.n+" vs. "+h.n);return c.end=h.i,u}"\n"==h.tag&&(h.last=0==e.length||"\n"==e[0].tag)}u.push(h)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return u}function r(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function a(t,e,n){for(var i=0,s=n.length;s>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function o(t){var e=[];for(var n in t)e.push('"'+c(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function u(t){var e=[];for(var n in t.partials)e.push('"'+c(n)+'":{name:"'+c(t.partials[n].name)+'", '+u(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+o(t.subs)}function c(t){return t.replace(y,"\\\\").replace(g,'\\"').replace(m,"\\n").replace(v,"\\r")}function l(t){return~t.indexOf(".")?"d":"f"}function h(t,e){var n="<"+(e.prefix||""),i=n+t.n+w++;return e.partials[i]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+c(i)+'",c,p,"'+(t.indent||"")+'"));',i}function p(t,e){e.code+="t.b(t.t(t."+l(t.n)+'("'+c(t.n)+'",c,p,0)));'}function f(t){return"t.b("+t+");"}var d=/\S/,g=/\"/g,m=/\n/g,v=/\r/g,y=/\\/g;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(s,r){function a(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function o(){for(var e=!0,n=x;n<b.length;n++)if(e=t.tags[b[n].tag]<t.tags._v||"_t"==b[n].tag&&null===b[n].text.match(d),!e)return!1;return e}function u(t,e){if(a(),t&&o())for(var n,i=x;i<b.length;i++)b[i].text&&((n=b[i+1])&&">"==n.tag&&(n.indent=b[i].text.toString()),b.splice(i,1));else e||b.push({tag:"\n"});w=!1,x=b.length}function c(t,e){var i="="+k,s=t.indexOf(i,e),r=n(t.substring(t.indexOf("=",e)+1,s)).split(" ");return S=r[0],k=r[r.length-1],s+i.length-1}var l=s.length,h=0,p=1,f=2,g=h,m=null,v=null,y="",b=[],w=!1,_=0,x=0,S="{{",k="}}";for(r&&(r=r.split(" "),S=r[0],k=r[1]),_=0;l>_;_++)g==h?i(S,s,_)?(--_,a(),g=p):"\n"==s.charAt(_)?u(w):y+=s.charAt(_):g==p?(_+=S.length-1,v=t.tags[s.charAt(_+1)],m=v?s.charAt(_+1):"_v","="==m?(_=c(s,_),g=h):(v&&_++,g=f),w=_):i(k,s,_)?(b.push({tag:m,n:n(y),otag:S,ctag:k,i:"/"==m?w-S.length:_+k.length}),y="",_+=k.length-1,g=h,"{"==m&&("}}"==k?_++:e(b[b.length-1]))):y+=s.charAt(_);return u(w,!0),b};var b={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,n,i){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+u(e)+"}"};var w=0;t.generate=function(e,n,i){w=0;var s={code:"",subs:{},partials:{}};return t.walk(e,s),i.asString?this.stringify(s,n,i):this.makeTemplate(s,n,i)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(i,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+l(e.n)+'("'+c(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+l(e.n)+'("'+c(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":h,"<":function(e,n){var i={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,i);var s=n.partials[h(e,n)];s.subs=i.subs,s.partials=i.partials},$:function(e,n){var i={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,i),n.subs[e.n]=i.code,n.inPartial||(n.code+='t.sub("'+c(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=f('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+l(t.n)+'("'+c(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=f('"'+c(t.text)+'"')},"{":p,"&":p},t.walk=function(e,n){for(var i,s=0,r=e.length;r>s;s++)i=t.codegen[e[s].tag],i&&i(e[s],n);return n},t.parse=function(t,e,n){return n=n||{},s(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var i=t.cacheKey(e,n),s=this.cache[i];return s?s:(s=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[i]=s)}}("undefined"!=typeof exports?exports:Hogan),"undefined"!=typeof module&&module.exports&&(module.exports=Hogan),function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,s){return(i=n.call(null,s,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,s){return(i=n.call(null,s,t,e))?!1:void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,s;return function(){var r,a,o=this,u=arguments;return r=function(){i=null,n||(s=t.apply(o,u))},a=n&&!i,clearTimeout(i),i=setTimeout(r,e),a&&(s=t.apply(o,u)),s}},throttle:function(t,e){var n,i,s,r,a,o;return a=0,o=function(){a=new Date,s=null,r=t.apply(n,i)},function(){var u=new Date,c=e-(u-a);return n=this,i=arguments,0>=c?(clearTimeout(s),s=null,a=u,r=t.apply(n,i)):s||(s=setTimeout(o,c)),r}},noop:function(){}}}(),n="0.10.4",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(){var n=[].slice.call(arguments,0);return function(i){var s=[];return e.each(n,function(n){s=s.concat(t(e.toStr(i[n])))}),s}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),s=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function s(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new s(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),r=function(){"use strict";function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(t){return JSON.parse(t)}var r,a;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(o){r=null}return a=r&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),s(r.getItem(this._prefix(t)))},set:function(t,s,a){return e.isNumber(a)?r.setItem(this._ttlKey(t),i(n()+a)):r.removeItem(this._ttlKey(t)),r.setItem(this._prefix(t),i(s))},remove:function(t){return r.removeItem(this._ttlKey(t)),r.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=r.length;for(t=0;i>t;t++)(e=r.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=s(r.getItem(this._ttlKey(t)));return e.isNumber(i)&&n()>i?!0:!1}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,a),t}(),a=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?i(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=e.cache===!1?new s(0):u}function i(n){return function(i,s){function r(t){e.defer(function(){o.resolve(t)})}function a(t){e.defer(function(){o.reject(t)})}var o=t.Deferred();return n(i,s,r,a),o}}var r=0,a={},o=6,u=new s(10);return n.setMaxPendingRequests=function(t){o=t},n.resetCache=function(){u.reset()},e.mixin(n.prototype,{_get:function(t,e,n){function i(e){n&&n(null,e),l._cache.set(t,e)}function s(){n&&n(!0)}function u(){r--,delete a[t],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var c,l=this;this.cancelled||t!==this.lastUrl||((c=a[t])?c.done(i).fail(s):o>r?(r++,a[t]=this._send(t,e).done(i).fail(s).always(u)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,n,i){var s;return e.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=t,(s=this._cache.get(t))?e.defer(function(){i&&i(null,s)}):this._get(t,n,i),!!s},cancel:function(){this.cancelled=!0}}),n}(),o=function(){"use strict";function n(e){e=e||{},e.datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function s(){return{ids:[],children:{}}}function r(t){for(var e={},n=[],i=0,s=t.length;s>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function a(t,e){function n(t,e){return t-e}var i=0,s=0,r=[];t=t.sort(n),e=e.sort(n);for(var a=t.length,o=e.length;a>i&&o>s;)t[i]<e[s]?i++:t[i]>e[s]?s++:(r.push(t[i]),i++,s++);return r}return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var r,a;r=n.datums.push(t)-1,a=i(n.datumTokenizer(t)),e.each(a,function(t){var e,i,a;for(e=n.trie,i=t.split("");a=i.shift();)e=e.children[a]||(e.children[a]=s()),e.ids.push(r)})})},get:function(t){var n,s,o=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,r;if(s&&0===s.length)return!1;for(e=o.trie,n=t.split("");e&&(i=n.shift());)e=e.children[i];return e&&0===n.length?(r=e.ids.slice(0),void(s=s?a(s,r):r)):(s=[],!1)}),s?e.map(r(s),function(t){return o.datums[t]}):[]},reset:function(){this.datums=[],this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){"use strict";function i(t){return t.local||null}function s(i){var s,r;return r={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(s=i.prefetch||null)&&(s=e.isString(s)?{url:s}:s,s=e.mixin(r,s),s.thumbprint=n+s.thumbprint,s.ajax.type=s.ajax.type||"GET",s.ajax.dataType=s.ajax.dataType||"json",!s.url&&t.error("prefetch requires url to be set")),s}function r(n){function i(t){return function(n){return e.debounce(n,t)}}function s(t){return function(n){return e.throttle(n,t)}}var r,a;return a={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=n.remote||null)&&(r=e.isString(r)?{url:r}:r,r=e.mixin(a,r),r.rateLimiter=/^throttle$/i.test(r.rateLimitBy)?s(r.rateLimitWait):i(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url&&t.error("remote requires url to be set")),r}return{local:i,prefetch:s,remote:r}}();!function(n){"use strict";function s(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=c(e.sorter),this.dupDetector=e.dupDetector||l,this.local=u.local(e),this.prefetch=u.prefetch(e),this.remote=u.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new o({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new r(this.cacheKey):null}function c(t){function n(e){return e.sort(t)}function i(t){return t}return e.isFunction(t)?n:i}function l(){return!1}var h,p;return h=n.Bloodhound,p={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=s,s.noConflict=function(){return n.Bloodhound=h,s},s.tokenizers=i,e.mixin(s.prototype,{_loadPrefetch:function(e){function n(t){r.clear(),r.add(e.filter?e.filter(t):t),r._saveToStorage(r.index.serialize(),e.thumbprint,e.ttl)}var i,s,r=this;return(i=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(i),s=t.Deferred().resolve()):s=t.ajax(e.url,e.ajax).done(n),s},_getFromRemote:function(t,e){function n(t,n){e(t?[]:r.remote.filter?r.remote.filter(n):n)}var i,s,r=this;if(this.transport)return t=t||"",s=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,s),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(p.data,t,n),this.storage.set(p.protocol,location.protocol,n),this.storage.set(p.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(p.data),n.protocol=this.storage.get(p.protocol),n.thumbprint=this.storage.get(p.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){function n(){s.add(e.isFunction(r)?r():r)}var i,s=this,r=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),r&&i.done(n),this.transport=this.remote?new a(this.remote):null,this.initPromise=i.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,n){function i(t){var i=r.slice(0);e.each(t,function(t){var n;return n=e.some(i,function(e){return s.dupDetector(t,e)}),!n&&i.push(t),i.length<s.limit}),n&&n(s.sorter(i))}var s=this,r=[],a=!1;r=this.index.get(t),r=this.sorter(r).slice(0,this.limit),r.length<this.limit?a=this._getFromRemote(t,i):this._cancelLastRemoteRequest(),a||(r.length>0||!this.transport)&&n&&n(r)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&a.resetCache()},ttAdapter:function(){return e.bind(this.get,this)}}),s}(this);var c=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="algolia-dataset tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),l=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),h=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),p=function(){"use strict";function t(t,e,n,i){var s;if(!n)return this;for(e=e.split(u),n=i?o(n,i):n,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,n,i,s,a;if(!this._callbacks)return this;for(t=t.split(u),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)s=r(n.sync,this,[e].concat(i)),a=r(n.async,this,[e].concat(i)),s()&&c(a);return this}function r(t,e,n){function i(){for(var i,s=0,r=t.length;!i&&r>s;s+=1)i=t[s].apply(e,n)===!1;return!i}return i}function a(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function o(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,c=a();return{onSync:n,onAsync:e,off:i,trigger:s}}(),f=function(t){"use strict";function n(t,n,i){for(var s,r=[],a=0,o=t.length;o>a;a++)r.push(e.escapeRegExChars(t[a]));return s=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function r(e){var n,i,r;return(n=o.exec(e.data))&&(r=t.createElement(s.tagName),s.className&&(r.className=s.className),i=e.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(r,i)),!!n}function a(t,e){for(var n,i=3,s=0;s<t.childNodes.length;s++)n=t.childNodes[s],n.nodeType===i?s+=e(n)?1:0:a(n,e)}var o;s=e.mixin({},i,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],o=n(s.pattern,s.caseSensitive,s.wordsOnly),a(s.node,r))}}(window.document),d=function(){"use strict";function n(n){var s,r,o,u,c=this;n=n||{},n.input||t.error("input is missing"),s=e.bind(this._onBlur,this),r=e.bind(this._onFocus,this),o=e.bind(this._onKeydown,this),u=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",s).on("focus.tt",r).on("keydown.tt",o),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(c._onInput,c,t))}):this.$input.on("input.tt",u),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,p,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,s;switch(t){case"tab":i=this.getHint(),s=this.getInputValue(),n=i&&i!==s&&!r(e);break;case"up":case"down":n=!r(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!r(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;t=this.getInputValue(),t&&(t=t.replace(/[^a-z0-9]/gim," ").replace(/\s+/g," ")),e=s(t,this.query),n=e?this.query.length!==t.length:!1,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),g=function(){"use strict";function n(n){n=n||{},n.templates=n.templates||{},n.source||t.error("missing source"),n.name&&!r(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.$el=t(c.dataset.replace("%CLASS%",this.name)),this.hasSuggestions=!1}function i(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function s(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function r(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var a="ttDataset",o="ttValue",u="ttDatum";return n.extractDatasetName=function(e){return t(e).data(a)},n.extractValue=function(e){return t(e).data(o)},n.extractDatum=function(e){return t(e).data(u)},e.mixin(n.prototype,p,{_render:function(n,i){function s(){return g.templates.empty({query:n,isEmpty:!0})}function r(){function s(e){var n;return n=t(c.suggestion).append(g.templates.suggestion(e)).data(a,g.name).data(o,g.displayFn(e)).data(u,e),n.children().each(function(){t(this).css(l.suggestionChild)}),n}var r,h;return r=t(c.suggestions).css(l.suggestions),h=e.map(i,s),r.append.apply(r,h),g.highlight&&f({className:"tt-highlight",node:r[0],pattern:n}),r}function h(){return g.templates.header({query:n,isEmpty:!d})}function p(){return g.templates.footer({query:n,isEmpty:!d})}if(this.$el){var d,g=this;this.$el.empty(),this.hasSuggestions=d=i&&i.length,!d&&this.templates.empty?this.$el.html(s()).prepend(g.templates.header?h():null).append(g.templates.footer?p():null):d&&this.$el.html(r()).prepend(g.templates.header?h():null).append(g.templates.footer?p():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),m=function(){"use strict";function n(n){var s,r,a,o=this;n=n||{},n.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,i),this.templates=n.templates,s=e.bind(this._onSuggestionClick,this),r=e.bind(this._onSuggestionMouseEnter,this),a=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",s).on("mouseenter.tt",".tt-suggestion",r).on("mouseleave.tt",".tt-suggestion",a),e.each(this.datasets,function(t){o.$menu.append(t.getRoot()),t.onSync("rendered",o._onRendered,o)})}function i(t){return new g(t)}return e.mixin(n.prototype,p,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,s;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(s=e.eq(i)),this._ensureVisible(s)}},_ensureVisible:function(t){var e,n,i,s;e=t.position().top,n=e+t.outerHeight(!0),i=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>s&&this.$menu.scrollTop(i+(n-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?l.ltr:l.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:g.extractDatum(t),value:g.extractValue(t),datasetName:g.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function n(e){e.update(t)}function i(t){t.hasSuggestions>0&&(s=!1)}e.each(this.datasets,n);var s=!0;e.each(this.datasets,i),s&&this.templates&&this.templates.empty&&this.renderGlobalEmpty()},renderGlobalEmpty:function(){function t(t){return t.templates.empty}var e=this.datasets[0],n=this;e.$el&&(e.$el.empty(),e.$el.html(t(n)),e.trigger("rendered"))},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),v=function(){"use strict";function n(n){var r,a,o;n=n||{},n.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.templates=e.isObject(n.templates)?i(n.templates):{},this.$node=s(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),a=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),a.on("blur.tt",function(t){var n,i,s;n=document.activeElement,i=r.is(n),s=r.has(n).length>0,e.isMsie()&&(i||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){a.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new h({el:a}),this.dropdown=new m({menu:r,datasets:n.datasets,templates:n.templates}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),
this.input=new d({input:a,hint:o}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(t){return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer)}}function s(e,n){var i,s,a,u;i=t(e),s=t(c.wrapper).css(l.wrapper),a=t(c.dropdown).css(l.dropdown),u=i.clone().css(l.hint).css(r(i)),u.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(o,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?l.input:l.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(h){}return i.wrap(s).parent().prepend(n?u:null).append(a)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function a(t){var n=t.find(".tt-input");e.each(n.data(o),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(o).removeClass("tt-input").insertAfter(t),t.remove()}var o="ttAttrs";return e.mixin(n.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.dealerinspire&&this.dealerinspire.manages("blur")||(this.isActivated=!1,this.dropdown.empty(),this.dropdown.close())},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,i,s,r,a;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=d.normalizeQuery(n),s=e.escapeRegExChars(i),r=new RegExp("^(?:"+s+")(.+$)","i"),a=r.exec(t.value),a?this.input.setHint(n+a[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,s;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&(s=this.dropdown.getDatumForTopSuggestion(),s&&this.input.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.raw,s.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),a(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,s;n=t.fn.typeahead,i="ttTypeahead",s={initialize:function(n,s){function r(){var r,a,o=t(this);e.each(s,function(t){t.highlight=!!n.highlight}),a=new v({input:o,eventBus:r=new h({el:o}),withHint:e.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:s,templates:n.sharedTemplates}),a.dealerinspire={manage:[],manages:function(t){return this.manage.indexOf(t)>-1},shouldManage:function(t){this.manages(t)||this.manage.push(t)}},o.data(i,a),this.typeahead=a}return s=e.isArray(s)?s:[].slice.call(arguments,1),n=n||{},this.each(r)},open:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.close()}return this.each(e)},val:function(e){function n(){var n,s=t(this);(n=s.data(i))&&n.setVal(e)}function s(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):s(this.first())},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},t.fn.typeahead=function(e){var n;return s[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(i)}),s[e].apply(n,[].slice.call(arguments,1))):s.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery);var mvnAlgoliaPrediction=function(t){var e,n,i={initialize:function(){n=this,"undefined"!=typeof AlgoliaSearch&&this.initAlgolia()},initAlgolia:function(){e=new AlgoliaSearch(mvnAlgSettings.appId,mvnAlgSettings.apiKeySearch,"https");var i=e.initIndex(mvnAlgSettings.inventoryIndex),s=e.initIndex(mvnAlgSettings.contentIndex),r=e.initIndex(mvnAlgSettings.email_index),a=e.initIndex(mvnAlgSettings.phone_index),o=e.initIndex(mvnAlgSettings.deptmentHours_index),u=mvnAlgSettings.im_noprice_label,c=(mvnAlgSettings.commonThemeFolder,mvnAlgSettings.pricing_field),l="";mvnAlgSettings.freetextInventorySearch&&(l='<div class="inventory-freetext-heading"></div>');var h=Hogan.compile('<a href="{{{ link }}}"><div class="inventorySearchResult"><div class="imgContainer"><img src="{{{ thumbnail }}}"></div><div class="conetntSectionContainer"><div class="invTitle">{{{ _highlightResult.year.value }}} {{{ _highlightResult.make.value }}} {{{ _highlightResult.model.value }}} {{#trim}}<small>({{ trim }})</small>{{/trim}}</div><div class="invColor">{{{ _highlightResult.ext_color.value }}}</div><div class="clearfix"></div><div class="invPrice {{{priceExtraClass}}}">{{{ formattedPrice }}}</div><div class="invMiles">{{{ formatedMiles }}}</div><div class="invStock {{{stock}}}" style="display:none">{{{ stock }}}</div></div><div class="clearfix"></div></div></a>'),p=Hogan.compile('<a class="pageResultLink {{{ language_class }}}" href="{{{ permalink }}}"><div class="contentSearchResult">{{{iconImg}}}<span class="pageName">{{{ title }}}</span></div></a>'),f=Hogan.compile('<div class="contentResult contentEmailResult">{{{iconImg}}}<div><span class="name emailName">{{{ name }}}</span><span class="email resultData">{{{ email }}}</span></div></div>'),d=Hogan.compile('<div class="contentResult contentNumberResult">{{{iconImg}}}<div><span class="name phoneName">{{{ name }}}</span><span class="number resultData">{{{ number }}}</span></div></div>'),g=Hogan.compile('<div class="contentResult contentDeptResult">{{{iconImg}}}<div><span class="name deptName">{{{ departmentName }}}</span>{{#hours}}<div class="hours-list resultData"><span class="days">{{{ days }}}:&nbsp;</span><span class="openTime">{{{ open }}} - </span><span class="closeTime">{{{ close }}}</span><span class="number resultDisclaimer">{{{ disclaimer }}}</span></div>{{/hours}}</div></div>'),m=(Hogan.compile('<div class="contentResult">{{{ content }}}</div>'),{container:"search-alg-typeahead-container"});t(".alg-searc-class").parents("form").on("submit",function(t){t.preventDefault()});var v=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.val)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:[]});v.initialize();var y="";t.each(mvnAlgSearchVars.defaultPages,function(t,e){y+=p.render(e)}),t(".alg-searc-class").typeahead({hint:!1,selector:m},[{selector:m,source:i.ttAdapter({hitsPerPage:15,facetFilters:mvnAlgSettings.facetFilters,removeStopWords:"en"}),name:"inventory",templates:{header:function(){if(l.length>0){var e=t(".alg-searc-class").val().trim(),n=mvnAlgSettings.freetextInventorySearchLinkBase+"#action=im_ajax_call&perform=get_results&search="+encodeURIComponent(e)+"&page=1&show_all_filters=false",i=t(l).append('<a href="'+n+"\">Show all vehicles matching '<b>"+e+"'</b></a>");return'<div class="category catTitle">'+mvnAlgSearchVars.algSectionTitles.vehiclesTitle+"</div>"+t("<div/>").append(i).html()}return'<div class="category catTitle">'+mvnAlgSearchVars.algSectionTitles.vehiclesTitle+"</div>"},suggestion:function(t){return t[c]>0?(t.priceExtraClass="",t.formattedPrice=n.formatPrice(t[c])):(t.priceExtraClass="priceAsText",t.formattedPrice=u),t.formatedMiles=n.formatMiles(t.miles),h.render(t)}}},{name:"email",source:r.ttAdapter({hitsPerPage:15}),templates:{header:'<div class="category catTitle">'+mvnAlgSearchVars.algSectionTitles.emailAddressesTitle+"</div>",suggestion:function(e){if(e&&""!=e.email){var n='<i class="fa fa-envelope-o"></i>';return e.iconImg=n,t(".tt-dataset-email").show(),f.render(e)}return t(".tt-dataset-email").hide(),!1}}},{name:"phone",source:a.ttAdapter({hitsPerPage:15}),templates:{header:'<div class="category catTitle">'+mvnAlgSearchVars.algSectionTitles.phoneNumbersTitle+"</div>",suggestion:function(t){if(t&&""!=t.number){var e='<i class="fa fa-phone"></i>';return t.iconImg=e,d.render(t)}return!1}}},{name:"departmentHours",source:o.ttAdapter({hitsPerPage:15}),templates:{header:'<div class="category catTitle">'+mvnAlgSearchVars.algSectionTitles.hoursTitle+"</div>",suggestion:function(t){var e='<i class="fa fa-clock-o"></i>';return t.iconImg=e,g.render(t)}}},{name:"pages",source:s.ttAdapter({hitsPerPage:15}),templates:{header:'<div class="category catTitle">'+mvnAlgSearchVars.algSectionTitles.pagesTitle+"</div>",suggestion:function(t){iconImg="";var e=n.getIconForPage(t.title);return""!=e&&(iconImg=e),t.iconImg=iconImg,p.render(t)}}},{name:"defaults",source:v.ttAdapter({hitsPerPage:10}),templates:{header:'<div class="category catTitle">'+mvnAlgSearchVars.algSectionTitles.commonlySearchedTitle+"</div>",empty:y}}])},getIconForPage:function(t){t=t.toLowerCase();for(var e=["thank","finder","search","order","calculator","contact","directions","financing","schedule","reviews","testimonials","service","special","staff","coupons","video","part","blog","post","gallery"],n=['<i class="fa fa-thumbs-o-up fa-fw"></i>','<i class="fa fa-search fa-fw"></i>','<i class="fa fa-search fa-fw"></i>','<i class="fa fa-paper-plane-o fa-fw"></i>','<i class="fa fa-calculator fa-fw"></i>','<i class="fa fa-comments-o fa-fw"></i>','<i class="fa fa-map-marker fa-fw"></i>','<i class="fa fa-check-circle-o fa-fw"></i>','<i class="fa fa-calendar-o fa-fw"></i>','<i class="fa fa-smile-o fa-fw"></i>','<i class="fa fa-smile-o fa-fw"></i>','<i class="fa fa-wrench fa-fw"></i>','<i class="fa fa-tags fa-fw"></i>','<i class="fa fa-users fa-fw"></i>','<span class="glyphicon glyphicon-scissors"></span>','<i class="fa fa-film fa-fw"></i>','<i class="fa fa-cogs fa-fw"></i>','<i class="fa fa-newspaper-o fa-fw"></i>','<i class="fa fa-newspaper-o fa-fw"></i>','<i class="fa fa-picture-o fa-fw"></i>'],i=0;i<e.length;i++){var s=t.search(e[i]);if(-1!==s)return n[i]}return'<i class="fa fa-pencil-square-o"></i>'},formatPrice:function(t){if(0!=t){var e="$"+parseFloat(t,10).toString().replace(/(\d+)(?=(\d{3})+\.?)/g,"$1,");return e}},formatMiles:function(t){return t.length>3?t.substring(0,t.length-3)+"k "+mvnAlgSettings.mileageUnits:t+" "+mvnAlgSettings.mileageUnits},getThumbnailSrc:function(t,e){var n="";return t&&"undefined"!=typeof t.sizes&&"undefined"!=typeof t.sizes[e]&&t.sizes[e].file&&(n=t.sizes[e].file),n}};return i}(jQuery);jQuery(document).ready(function(t){mvnAlgoliaPrediction.initialize()});