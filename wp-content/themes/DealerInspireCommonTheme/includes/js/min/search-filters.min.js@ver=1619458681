jQuery(document).ready(function(o){0<o(".filters-container").length&&void 0===di_search_settings.filters&&jQuery.ajax({url:di_search_settings.ajax_url,type:"post",dataType:"json",data:{action:"im_ajax_call",perform:"homepage_search_filters"},success:function(e){di_search_settings.filters=e,o(".filters-container").each(function(e,t){var d=this;update_filters(o(d)),o(d).find(":input").change(function(e){var t="type[]"===o(this).attr("name");update_filters(o(d),t)}),o(d).find("input[type=button],button:not(.selectpicker),submit").click(function(e){var t=DealerInspireSearchAnything.get_instance(o(d).find("#search-anything-field,.alg-searc-class")),r="";void 0!==t.element&&(r=t.element.val());var i=t.placeholder_text?t.placeholder_text:di_search_settings.placeholder_text,n=[];try{var a=o(d).find(":input,select").not("button,[type=submit],[type=text]");if(0===a.length&&!r)throw"Nothing to search for!";o.each(a,function(e,t){var r=o(t).attr("name")?o(t).attr("name"):null;r&&jQuery.each([["years","year"],["makes","make"],["models","model"]],function(e,t){r=r.replace(t[0],t[1])});var i=o(t).attr("name")?o(t).attr("name").replace("[]","").replace(/s$/i,""):null,a=o(t).val()?o(t).val().toString():null;"radio"===t.type&&!1===o(t).is(":checked")||i&&a&&(n[i]={value:a,url_key:r})});var s="";if(s=void 0===n.type||r&&""!=r&&r!=i?hasOnlyNewVehicles(n)?di_get_search_redirect_url("New"):di_get_search_redirect_url(!1):di_get_search_redirect_url(n.type.value),r&&r!==i){if(!1!==t.redirect_url)s=t.redirect_url,t.element.val("Loading...").attr("disabled","disabled");else{if(-1!==r.search(/new /i)?t.type="New":-1!==r.search(/used |pre-owned |preowned /i)?t.type="Used":-1!==r.search(/cpo |certified /i)&&(t.type="Certified Used"),t.type?s=di_get_search_redirect_url(t.type):void 0!==n.type&&(s=di_get_search_redirect_url(n.type.value)),!1===s)return!1;!0===DealerInspireBrowserDetection.isFireFox()&&-1<r.search("&")&&(l.value=l.value.replace(/&/g,"_AND_")),s+="&search="+r}!1!==(acf_redirect_url=di_get_homepage_acf_redirect_url(r))&&(s=acf_redirect_url)}else{if(!1===s)throw"Redirect URL is not set!";for(var c in n){var l=n[c];"type"!==c&&l.value&&(!0===DealerInspireBrowserDetection.isFireFox()&&-1<l.value.search("&")&&(l.value=l.value.replace("&","_AND_")),-1<l.value.search(",")?jQuery.each(l.value.split(","),function(e,t){s+="&"+encodeURIComponent(l.url_key)+"="+encodeURIComponent(t)}):s+="&"+encodeURIComponent(l.url_key)+"="+encodeURIComponent(l.value))}}return(o(".filters-container input[type=number]").hasClass("geo-zipcode-input-filter")&&(s=s&&di_get_geoZip(s)),window.search_filters_redirect_url&&(s=search_filters_redirect_url(s,n,t)),!1===s)?!1:(window.location.href=s,!1)}catch(e){return"undefined"!=typeof console&&console.log(e),!1}})})}})});var di_get_geoZip=function(e){var t=$(".filters-container .geo-zipcode-input-filter").val();if($(".filters-container select").hasClass("vehicle-geoRadius"))var r=$(".filters-container .vehicle-geoRadius").val();else r="all";var i=e.split("#");return i[0]+"?_geoZip="+t+"&_geoRadius="+r+"#"+i[1]},di_get_homepage_acf_redirect_url=function(i){if("undefined"==typeof di_homepage_acf_redirects||0===di_homepage_acf_redirects.length)return!1;var r=!1,e=jQuery.grep(di_homepage_acf_redirects,function(e){if(!e.terms||!e.redirect_url)return!1;if(-1<jQuery.inArray(i.toLowerCase(),e.terms))return!0;var r=!1;return jQuery.each(e.terms,function(e,t){if(2===(t.match(/%/g)||[]).length&&-1<i.toLowerCase().indexOf(t.replace(/%/g,"")))return!(r=!0)}),r});return jQuery.each(e,function(e,t){if(t.redirect_url)return r=t.redirect_url,!1}),r},di_get_search_redirect_url=function(e){var t="#action=im_ajax_call&perform=get_results&page=1",r="";try{if(!(-1<di_search_settings.dealer_makes.indexOf("Honda")||-1<di_search_settings.dealer_makes.indexOf("Acura"))||""!==di_search_settings.new_on_used&&""!==di_search_settings.used_on_new||(di_search_settings.used_vehicles_url=di_search_settings.new_vehicles_url),""===di_search_settings.new_vehicles_url&&""===di_search_settings.used_vehicles_url)throw"Please set New and Used pages in Site Configurations.";if(e&&"string"==typeof e&&-1<e.indexOf(",")&&(e=e.split(",")),e&&"object"==typeof e)1===jQuery.map(e,function(e,t){return t}).length?r=di_get_search_redirect_url(e[0]):(r=di_search_settings.used_vehicles_url+t,jQuery.each(e,function(e,t){r+="&type%5B%5D="+encodeURIComponent(t)}));else switch(e){case!1:case"":r=di_search_settings.used_vehicles_url+t+"&type%5B%5D=New&type%5B%5D=Used&type%5B%5D=Certified Used";break;case"New":r=""!==di_search_settings.new_vehicles_url?di_search_settings.new_vehicles_url+t+"&type%5B%5D=New":di_search_settings.used_vehicles_url+t+"&type%5B%5D=New";break;case"Used":r=di_search_settings.used_vehicles_url+t+"&type%5B%5D=Used&type%5B%5D=Certified Used";break;default:r=di_search_settings.used_vehicles_url+t+"&type%5B%5D="+encodeURIComponent(e)}""===r&&(r=(""!==di_search_settings.used_vehicles_url?di_search_settings.used_vehicles_url:di_search_settings.new_vehicles_url)+"#action=im_ajax_call&perform=get_results&page=1&type%5B%5D=New&type%5B%5D=Used&type%5B%5D=Certified Used")}catch(e){return"undefined"!=typeof console&&console.log(e),!1}return r},update_filters=function(s,c){var l=jQuery,t=JSON.parse(JSON.stringify(di_search_settings.filters)),d=[];try{var e=s.find(":input,select").not("button,[type=submit],[type=text], .vehicle-geoRadius");if(0===e.length)throw"No filters were found in container!";if(l.each(e,function(e,t){var r=l(t).attr("name")?l(t).attr("name").replace("[]","").replace(/s$/i,""):null,i=l(t).val()?l(t).val().toString():null,a=l(t).data("order")?l(t).data("order"):null,n=this.type;if(null!==r){switch(r){case"mile":r="miles",a=null===a?"range":a;break;case"our_price":case"price":a=null===a?"range":a;break;case"type":if(a=null===a?"vehicle-condition":a,"radio"===t.type){if(i=s.find(':input[type=radio][name="type[]"]:checked').val())break;if((""===di_search_settings.new_on_used||""===di_search_settings.used_on_new)&&!l(t).val())return void l(t).parent(".radio-button").remove();if(i||0!==s.find(':input[type=radio][name="type[]"]:checked').length||(l(t).attr("checked","checked"),i=l(t).val()),!i)return}break;case"year":a=null===a?"desc":a}null===a&&(a="asc"),!0===c&&"type"!==r&&"hidden"!==n&&(i=null),d.push({key:r,selected_value:i,values:[],order:a,element:l(t),input_type:n})}}),window.inventoryLightningFilterHomePageFilters&&(d=window.inventoryLightningFilterHomePageFilters(d)),0===d.length)throw"Could not detect filters in container!";window.search_filters_object&&(t=search_filters_object(t,d)),l.each(d,function(r,e){e.selected_value;var n=e.key;l.each(t,function(e,i){if(void 0!==i[n]){var a=!1,t=i[n];t&&(l.each(d,function(e,t){if(null!==t.selected_value&&t.key!==n){var r=t.key;if(void 0===i[r])return a=!0;if("type"===r&&void 0!==di_search_settings.include_cpo_when_used_selected&&"enabled"===di_search_settings.include_cpo_when_used_selected&&"Used"===t.selected_value&&"Certified Used"===i[r]&&(i[r]="Used"),null!==t.selected_value)if("hidden"===t.input_type&&-1<t.selected_value.search(",")){if(-1===t.selected_value.search(i[r]))return a=!0}else if(t.selected_value!==i[r])return a=!0}}),!1===a&&-1===l.inArray(t,d[r].values)&&d[r].values.push(t))}})}),s.find("select").not(".noFilter").find("option").each(function(e,t){""!==l(t).val()&&l(t).remove()});var a=[];l.each(d,function(e,i){if(0!==i.values.length){switch(i.order){case"asc":i.values.sort();break;case"desc":i.values.sort().reverse();break;case"range":i.values=searchSortArray(i.values)}l.each(i.values,function(e,t){if(a.push(t),"object"==typeof i.element&&!0===i.element.is("select")){var r="type"===i.key?t.replace("Used","Pre-Owned"):t;r=translateType(r),"range"===i.order&&(r=DealerInspireInventory.format.number(r).replace("-"," - ")),i.element.append("<option value='"+t+"' "+(null!==i.selected_value&&t===i.selected_value?"selected='selected'":"")+">"+r+"</option>")}})}}),l("body").trigger("search_filters_rendered",[a])}catch(e){"undefined"!=typeof console&&console.log(e.stack)}},hasOnlyNewVehicles=function(e){var t,r=di_search_settings.filters;if(0===Object.keys(e).length)return!1;if(e.hasOwnProperty("type"))return"New"===e.type.value;for(var i=0;i<r.length;i++)if("New"!==r[i].type){for(var a in t=1,e)if(e[a].value!==r[i][a]){t=0;break}if(1===t)return!1}return!0};function translateType(e){var t=!!jQuery("body.lang-french").length,r=!!jQuery("body.lang-spanish").length;if(!t&&!r)return e;switch(e){case"New":e=t?"Neuf":"Nuevo";break;case"Used":case"Pre-Owned":e=t?"d’occasion":"Usado";break;case"Certified Used":case"Certified Pre-Owned":e=t?"d’occasion Certifiés":"Usado Certificado"}return e}jQuery("body.non-english").length&&jQuery("body").on("search_filters_rendered",function(e,t){void 0===di_search_settings.translated_values&&(di_search_settings.translated_values={},jQuery.ajax({url:"/",type:"POST",dataType:"json",data:{action:"im_ajax_call",perform:"translate_search_filters",filterVals:t,_language_code:"object"==typeof icl_vars&&"en"!==icl_vars.current_language?icl_vars.current_language:""}}).done(function(e){"object"!=typeof e&&(e=window.JSON.parse(e)),di_search_settings.translated_values=e,jQuery("body").trigger("search_filters_rendered",[t])})),"object"==typeof di_search_settings.translated_values&&jQuery.each(di_search_settings.translated_values,function(e,t){var r=$('.filters-container option[value="'+e+'"]');r.length&&(-1<e.search(/pre-owned|new|used/i)&&(t=translateType(e)),r.text(t))})});var searchSortArray=function(e){var t,r=[];for(var i in e)for(var a in r[i]=e[i].match(/([^0-9]+)|([0-9]+)/g),r[i])isNaN(t=parseInt(r[i][a]))||(r[i][a]=t);for(var i in r.sort(function(e,t){for(var r in e){if(t.length<r||e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0}),r)e[i]=r[i].join("");return e};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLWZpbHRlcnMubWluLmpzIiwic291cmNlcyI6WyJzZWFyY2gtZmlsdGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBKYXZhU2NyaXB0IERvY3VtZW50XG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpe1xuXG4gICAgaWYoJChcIi5maWx0ZXJzLWNvbnRhaW5lclwiKS5sZW5ndGggPiAwKVxuICAgIHtcbiAgICAgICAgaWYodHlwZW9mIGRpX3NlYXJjaF9zZXR0aW5ncy5maWx0ZXJzID09PSAndW5kZWZpbmVkJylcbiAgICAgICAge1xuICAgICAgICAgICAgalF1ZXJ5LmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogZGlfc2VhcmNoX3NldHRpbmdzLmFqYXhfdXJsLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGRhdGE6IHthY3Rpb246ICdpbV9hamF4X2NhbGwnLCBwZXJmb3JtOiAnaG9tZXBhZ2Vfc2VhcmNoX2ZpbHRlcnMnfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihmaWx0ZXJzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlfc2VhcmNoX3NldHRpbmdzLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmZpbHRlcnMtY29udGFpbmVyXCIpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9maWx0ZXJzKCQodGhhdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoYXQpLmZpbmQoXCI6aW5wdXRcIikuY2hhbmdlKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXQgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKSA9PT0gJ3R5cGVbXSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlX2ZpbHRlcnMoJCh0aGF0KSxyZXNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGF0KS5maW5kKFwiaW5wdXRbdHlwZT1idXR0b25dLGJ1dHRvbjpub3QoLnNlbGVjdHBpY2tlciksc3VibWl0XCIpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkc2VhcmNoX2ZpZWxkID0gRGVhbGVySW5zcGlyZVNlYXJjaEFueXRoaW5nLmdldF9pbnN0YW5jZSgkKHRoYXQpLmZpbmQoXCIjc2VhcmNoLWFueXRoaW5nLWZpZWxkLC5hbGctc2VhcmMtY2xhc3NcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXl3b3JkID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mKCRzZWFyY2hfZmllbGQuZWxlbWVudCkgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3JkID0gJHNlYXJjaF9maWVsZC5lbGVtZW50LnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyX3RleHQgPSAkc2VhcmNoX2ZpZWxkLnBsYWNlaG9sZGVyX3RleHQgPyAkc2VhcmNoX2ZpZWxkLnBsYWNlaG9sZGVyX3RleHQgOiBkaV9zZWFyY2hfc2V0dGluZ3MucGxhY2Vob2xkZXJfdGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZF9maWx0ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXZhaWxhYmxlX2ZpbHRlcnMgPSAkKHRoYXQpLmZpbmQoJzppbnB1dCxzZWxlY3QnKS5ub3QoXCJidXR0b24sW3R5cGU9c3VibWl0XSxbdHlwZT10ZXh0XVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYXZhaWxhYmxlX2ZpbHRlcnMubGVuZ3RoID09PSAwICYmICFrZXl3b3JkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJOb3RoaW5nIHRvIHNlYXJjaCBmb3IhXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGF2YWlsYWJsZV9maWx0ZXJzLGZ1bmN0aW9uKGluZGV4LGZpbHRlcil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsX2tleSA9ICQoZmlsdGVyKS5hdHRyKCduYW1lJykgPyAkKGZpbHRlcikuYXR0cignbmFtZScpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVybF9rZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGFuZ2UgcGx1cmFsIGtleXMgdG8gc2luZ3VsYXIgaS5lLiBtYWtlc1tdID0+IG1ha2VbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKFtbJ3llYXJzJywneWVhciddLFsnbWFrZXMnLCdtYWtlJ10sWydtb2RlbHMnLCdtb2RlbCddXSxmdW5jdGlvbihpLGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxfa2V5ID0gdXJsX2tleS5yZXBsYWNlKGFbMF0sYVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gJChmaWx0ZXIpLmF0dHIoJ25hbWUnKSA/ICQoZmlsdGVyKS5hdHRyKCduYW1lJykucmVwbGFjZSgnW10nLCcnKS5yZXBsYWNlKC9zJC9pLCcnKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gJChmaWx0ZXIpLnZhbCgpID8gJChmaWx0ZXIpLnZhbCgpLnRvU3RyaW5nKCkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmlsdGVyLnR5cGUgPT09ICdyYWRpbycgJiYgJChmaWx0ZXIpLmlzKFwiOmNoZWNrZWRcIikgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWtleSB8fCAhdmFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfZmlsdGVyc1trZXldID0geyd2YWx1ZSc6dmFsLCd1cmxfa2V5Jzp1cmxfa2V5fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Yoc2VsZWN0ZWRfZmlsdGVyc1sndHlwZSddKSAhPT0gJ3VuZGVmaW5lZCcgJiYgKCFrZXl3b3JkIHx8IGtleXdvcmQgPT0gJycgfHwga2V5d29yZCA9PSBwbGFjZWhvbGRlcl90ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gZGlfZ2V0X3NlYXJjaF9yZWRpcmVjdF91cmwoc2VsZWN0ZWRfZmlsdGVyc1sndHlwZSddWyd2YWx1ZSddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IGhhc09ubHlOZXdWZWhpY2xlcyhzZWxlY3RlZF9maWx0ZXJzKSA/IGRpX2dldF9zZWFyY2hfcmVkaXJlY3RfdXJsKCdOZXcnKSA6IGRpX2dldF9zZWFyY2hfcmVkaXJlY3RfdXJsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGtleXdvcmQgJiYga2V5d29yZCAhPT0gcGxhY2Vob2xkZXJfdGV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHNlYXJjaF9maWVsZC5yZWRpcmVjdF91cmwgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICRzZWFyY2hfZmllbGQucmVkaXJlY3RfdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWFyY2hfZmllbGQuZWxlbWVudC52YWwoJ0xvYWRpbmcuLi4nKS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoa2V5d29yZC5zZWFyY2goL25ldyAvaSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VhcmNoX2ZpZWxkLnR5cGUgPSAnTmV3JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGtleXdvcmQuc2VhcmNoKC91c2VkIHxwcmUtb3duZWQgfHByZW93bmVkIC9pKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZWFyY2hfZmllbGQudHlwZSA9ICdVc2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGtleXdvcmQuc2VhcmNoKC9jcG8gfGNlcnRpZmllZCAvaSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VhcmNoX2ZpZWxkLnR5cGUgPSAnQ2VydGlmaWVkIFVzZWQnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJHNlYXJjaF9maWVsZC50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBkaV9nZXRfc2VhcmNoX3JlZGlyZWN0X3VybCgkc2VhcmNoX2ZpZWxkLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mKHNlbGVjdGVkX2ZpbHRlcnNbJ3R5cGUnXSkgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBkaV9nZXRfc2VhcmNoX3JlZGlyZWN0X3VybChzZWxlY3RlZF9maWx0ZXJzWyd0eXBlJ11bJ3ZhbHVlJ10pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodXJsID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoRGVhbGVySW5zcGlyZUJyb3dzZXJEZXRlY3Rpb24uaXNGaXJlRm94KCkgPT09IHRydWUgJiYga2V5d29yZC5zZWFyY2goJyYnKSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIudmFsdWUgPSBmaWx0ZXIudmFsdWUucmVwbGFjZSgvJi9nLCdfQU5EXycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsICs9IFwiJnNlYXJjaD1cIitrZXl3b3JkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigoYWNmX3JlZGlyZWN0X3VybCA9IGRpX2dldF9ob21lcGFnZV9hY2ZfcmVkaXJlY3RfdXJsKGtleXdvcmQpKSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gYWNmX3JlZGlyZWN0X3VybDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodXJsID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIlJlZGlyZWN0IFVSTCBpcyBub3Qgc2V0IVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gc2VsZWN0ZWRfZmlsdGVycylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyID0gc2VsZWN0ZWRfZmlsdGVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGtleSA9PT0gJ3R5cGUnIHx8ICFmaWx0ZXIudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoRGVhbGVySW5zcGlyZUJyb3dzZXJEZXRlY3Rpb24uaXNGaXJlRm94KCkgPT09IHRydWUgJiYgZmlsdGVyLnZhbHVlLnNlYXJjaCgnJicpID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci52YWx1ZSA9IGZpbHRlci52YWx1ZS5yZXBsYWNlKCcmJywnX0FORF8nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZpbHRlci52YWx1ZS5zZWFyY2goJywnKSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2goZmlsdGVyLnZhbHVlLnNwbGl0KCcsJyksZnVuY3Rpb24oaSx2KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSBcIiZcIitlbmNvZGVVUklDb21wb25lbnQoZmlsdGVyLnVybF9rZXkpICsgXCI9XCIgK2VuY29kZVVSSUNvbXBvbmVudCh2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSBcIiZcIitlbmNvZGVVUklDb21wb25lbnQoZmlsdGVyLnVybF9rZXkpICsgXCI9XCIgK2VuY29kZVVSSUNvbXBvbmVudChmaWx0ZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZ2VvLXppcGNvZGUtaW5wdXQtZmlsdGVyIGlzIGJlaW5nIGFkZGVkIGZvciBHZW9sb2NhdGlvbiBGaWx0ZXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5maWx0ZXJzLWNvbnRhaW5lciBpbnB1dFt0eXBlPW51bWJlcl0nKS5oYXNDbGFzcygnZ2VvLXppcGNvZGUtaW5wdXQtZmlsdGVyJykpe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVybCl7XG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBkaV9nZXRfZ2VvWmlwKHVybCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHRcdFx0XHRcdH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih3aW5kb3dbJ3NlYXJjaF9maWx0ZXJzX3JlZGlyZWN0X3VybCddKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gc2VhcmNoX2ZpbHRlcnNfcmVkaXJlY3RfdXJsKHVybCxzZWxlY3RlZF9maWx0ZXJzLCRzZWFyY2hfZmllbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVybCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mKGNvbnNvbGUpICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSk7XG5cbi8qKlxuICpcdElmIGdlb1ppcCBpcyBhZGRlZCwgdXBkYXRlIFVSTCBzdHJ1Y3R1cmUgdG8gaGF2ZSBfZ2VvWmlwIGFuZCBfZ2VvUmFkaXVzXG4gKiAgX2dlb1ppcCByZXF1aWVycyBfZ2VvUmFpdXMuIElmIF9nZW9SYWRpdXMgaXMgbm90IHByb3ZpZGVkIGFzIGEgc2VsY3Qgb3B0aW9uLCBkZWZhdWx0IHRvIGFsbC5cbiAqL1xudmFyIGRpX2dldF9nZW9aaXAgPSBmdW5jdGlvbih1cmwpe1xuXHRcblx0Ly8gR3JhYiB2YWx1ZSBvZiB6aXAgaW5wdXRcblx0dmFyIGdlb1ppcFZhbCA9ICQoJy5maWx0ZXJzLWNvbnRhaW5lciAuZ2VvLXppcGNvZGUtaW5wdXQtZmlsdGVyJykudmFsKCk7XG5cdFxuXHQvLyBDaGVjayB0byBzZWUgaWYgZ2VvUmFkaXVzIGlzIGFkZGVkIGFuZCBncmFiIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0LlxuXHRpZiggJCgnLmZpbHRlcnMtY29udGFpbmVyIHNlbGVjdCcpLmhhc0NsYXNzKCd2ZWhpY2xlLWdlb1JhZGl1cycpKXtcblx0XHR2YXIgZ2VvUmFkaXVzVmFsID0gJCgnLmZpbHRlcnMtY29udGFpbmVyIC52ZWhpY2xlLWdlb1JhZGl1cycpLnZhbCgpO1xuICAgIC8vIE90aGVyd2lzZSBkZWZhdWx0IGl0IHRvIDUwIG1pbGVzXG4gICAgfSAgZWxzZSB7XG5cdCAgICB2YXIgZ2VvUmFkaXVzVmFsID0gJ2FsbCc7XG4gICAgfVxuICAgIFxuICAgIC8vIFNwbGl0IHVybCBpbnRvIHR3b1xuXHR2YXIgc3BsaXRVUkwgPSB1cmwuc3BsaXQoJyMnKTtcblx0Ly8gSW5zZXJ0aW5nIHF1ZXJ5IHN0cmluZyBiZWZvcmUgaW52ZW50b3J5IGhhc2ggdG8gcGFzcyB0byBMVlJQXG5cdHZhciBuZXdVUkwgPSBzcGxpdFVSTFswXSArIFwiP19nZW9aaXA9XCIgKyBnZW9aaXBWYWwgK1wiJl9nZW9SYWRpdXM9XCIgKyBnZW9SYWRpdXNWYWwgKyBcIiNcIiArIHNwbGl0VVJMWzFdO1xuXHRcdFxuXHQvLyByZXR1cm4gTmV3IFVSTFxuXHRyZXR1cm4gbmV3VVJMOyAgXG59XG5cbi8qKlxuICpcdFVzZSBBQ0ZzIHRvIHJlZGlyZWN0IGhvbWVwYWdlIHNlYXJjaCBiYXNlZCBvbiBrZXl3b3JkIHBocmFzZSB0byBwYWdlIGFzc29jaWF0aW9uc1xuICovXG52YXIgZGlfZ2V0X2hvbWVwYWdlX2FjZl9yZWRpcmVjdF91cmwgPSBmdW5jdGlvbihzZWFyY2hfdGVybSl7XG4gICAgaWYodHlwZW9mIGRpX2hvbWVwYWdlX2FjZl9yZWRpcmVjdHMgPT09ICd1bmRlZmluZWQnIHx8IGRpX2hvbWVwYWdlX2FjZl9yZWRpcmVjdHMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgcmVkaXJlY3RfdXJsID0gZmFsc2U7XG4gICAgdmFyIHJlZGlyZWN0cyA9IGpRdWVyeS5ncmVwKGRpX2hvbWVwYWdlX2FjZl9yZWRpcmVjdHMsZnVuY3Rpb24ocil7XG4gICAgICAgIGlmKCFyLnRlcm1zIHx8ICFyLnJlZGlyZWN0X3VybClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvL2ZpbmQgZXhhY3QgbWF0Y2hlc1xuICAgICAgICBpZihqUXVlcnkuaW5BcnJheShzZWFyY2hfdGVybS50b0xvd2VyQ2FzZSgpLHIudGVybXMpID4gLTEpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAvL2xvb2sgZm9yIHBhcnRpYWwgbWF0Y2hlcyBpZiB3aWxkY2FyZHMgYXJlIHVzZWQgaS5lLiAlbGVhc2UlXG4gICAgICAgIHZhciBwYXJ0aWFsX21hdGNoID0gZmFsc2U7XG4gICAgICAgIGpRdWVyeS5lYWNoKHIudGVybXMsZnVuY3Rpb24oaSx0ZXJtKXtcbiAgICAgICAgICAgIGlmKCh0ZXJtLm1hdGNoKC8lL2cpfHxbXSkubGVuZ3RoID09PSAyICYmIHNlYXJjaF90ZXJtLnRvTG93ZXJDYXNlKCkuaW5kZXhPZiggdGVybS5yZXBsYWNlKC8lL2csJycpICkgPiAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsX21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFydGlhbF9tYXRjaDtcbiAgICB9KTtcblxuICAgIGpRdWVyeS5lYWNoKHJlZGlyZWN0cyxmdW5jdGlvbihpLHIpe1xuICAgICAgICBpZihyLnJlZGlyZWN0X3VybClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVkaXJlY3RfdXJsID0gci5yZWRpcmVjdF91cmw7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVkaXJlY3RfdXJsO1xufVxuXG4vKipcbiAqXHRSZXR1cm4gVlJQIFVSTFxuICovXG52YXIgZGlfZ2V0X3NlYXJjaF9yZWRpcmVjdF91cmwgPSBmdW5jdGlvbih0eXBlKXtcbiAgICB2YXIgcXVlcnkgPSAnI2FjdGlvbj1pbV9hamF4X2NhbGwmcGVyZm9ybT1nZXRfcmVzdWx0cyZwYWdlPTEnO1xuICAgIHZhciB1cmwgPSAnJztcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIC8vSG9uZGEgY29tcGxpYW5jZSAtIHJlZGlyZWN0IGFsbCBzZWFyY2hlcyB0byBuZXcgVlJQXG4gICAgICAgIGlmKChkaV9zZWFyY2hfc2V0dGluZ3MuZGVhbGVyX21ha2VzLmluZGV4T2YoXCJIb25kYVwiKSA+IC0xIHx8IGRpX3NlYXJjaF9zZXR0aW5ncy5kZWFsZXJfbWFrZXMuaW5kZXhPZihcIkFjdXJhXCIpID4gLTEpXG4gICAgICAgICAgICAmJiAoZGlfc2VhcmNoX3NldHRpbmdzLm5ld19vbl91c2VkID09PSAnJyB8fCBkaV9zZWFyY2hfc2V0dGluZ3MudXNlZF9vbl9uZXcgPT09ICcnKSlcbiAgICAgICAgICAgIGRpX3NlYXJjaF9zZXR0aW5ncy51c2VkX3ZlaGljbGVzX3VybCA9IGRpX3NlYXJjaF9zZXR0aW5ncy5uZXdfdmVoaWNsZXNfdXJsO1xuXG4gICAgICAgIGlmKGRpX3NlYXJjaF9zZXR0aW5ncy5uZXdfdmVoaWNsZXNfdXJsID09PSAnJyAmJiBkaV9zZWFyY2hfc2V0dGluZ3MudXNlZF92ZWhpY2xlc191cmwgPT09ICcnKVxuICAgICAgICAgICAgdGhyb3cgXCJQbGVhc2Ugc2V0IE5ldyBhbmQgVXNlZCBwYWdlcyBpbiBTaXRlIENvbmZpZ3VyYXRpb25zLlwiO1xuXG4gICAgICAgIC8vd2hlbiBhIGhpZGRlbiBmaWVsZCBpcyB1c2VkIGFuZCBtdWx0aXBsZSB0eXBlcyBhcmUgc2V0IGkuZS4gdmFsdWU9XCJOZXcsVXNlZFwiXG4gICAgICAgIGlmKHR5cGUgJiYgdHlwZW9mKHR5cGUpID09PSAnc3RyaW5nJyAmJiB0eXBlLmluZGV4T2YoJywnKSA+IC0xKVxuICAgICAgICAgICAgdHlwZSA9IHR5cGUuc3BsaXQoJywnKTtcblxuICAgICAgICBpZih0eXBlICYmIHR5cGVvZih0eXBlKSA9PT0gJ29iamVjdCcpLy90aGlzIGlzIHRydWUgaWYgZGF0YS10eXBlIGF0dHJpYnV0ZSBpcyBzZXQgZm9yIHRoZSBzZWFyY2ggZmllbGQgb3IgbXVsdGlwbGUgdHlwZXMgYXJlIHNldCB1c2luZyBhIGhpZGRlbiBmaWVsZFxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbGVuID0galF1ZXJ5Lm1hcCh0eXBlLCBmdW5jdGlvbihuLCBpKSB7IHJldHVybiBpOyB9KS5sZW5ndGg7XG4gICAgICAgICAgICBpZihsZW4gPT09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsID0gZGlfZ2V0X3NlYXJjaF9yZWRpcmVjdF91cmwodHlwZVswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsID0gZGlfc2VhcmNoX3NldHRpbmdzLnVzZWRfdmVoaWNsZXNfdXJsICsgcXVlcnk7XG4gICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2godHlwZSxmdW5jdGlvbihpLHYpeyB1cmwgKz0gXCImdHlwZSU1QiU1RD1cIitlbmNvZGVVUklDb21wb25lbnQodikgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2godHlwZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgICAgICAgIGNhc2UgJyc6XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGRpX3NlYXJjaF9zZXR0aW5ncy51c2VkX3ZlaGljbGVzX3VybCArIHF1ZXJ5ICsgXCImdHlwZSU1QiU1RD1OZXcmdHlwZSU1QiU1RD1Vc2VkJnR5cGUlNUIlNUQ9Q2VydGlmaWVkIFVzZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdOZXcnOlxuICAgICAgICAgICAgICAgICAgICB1cmwgPSBkaV9zZWFyY2hfc2V0dGluZ3MubmV3X3ZlaGljbGVzX3VybCAhPT0gJycgPyBkaV9zZWFyY2hfc2V0dGluZ3MubmV3X3ZlaGljbGVzX3VybCArIHF1ZXJ5ICsgXCImdHlwZSU1QiU1RD1OZXdcIiA6IGRpX3NlYXJjaF9zZXR0aW5ncy51c2VkX3ZlaGljbGVzX3VybCArIHF1ZXJ5ICsgXCImdHlwZSU1QiU1RD1OZXdcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnVXNlZCc6XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGRpX3NlYXJjaF9zZXR0aW5ncy51c2VkX3ZlaGljbGVzX3VybCArIHF1ZXJ5ICsgXCImdHlwZSU1QiU1RD1Vc2VkJnR5cGUlNUIlNUQ9Q2VydGlmaWVkIFVzZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gZGlfc2VhcmNoX3NldHRpbmdzLnVzZWRfdmVoaWNsZXNfdXJsICsgcXVlcnkgKyBcIiZ0eXBlJTVCJTVEPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0eXBlKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYodXJsID09PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgdXJsID0gKGRpX3NlYXJjaF9zZXR0aW5ncy51c2VkX3ZlaGljbGVzX3VybCAhPT0gJycgPyBkaV9zZWFyY2hfc2V0dGluZ3MudXNlZF92ZWhpY2xlc191cmwgOiBkaV9zZWFyY2hfc2V0dGluZ3MubmV3X3ZlaGljbGVzX3VybCkgKyAgXCIjYWN0aW9uPWltX2FqYXhfY2FsbCZwZXJmb3JtPWdldF9yZXN1bHRzJnBhZ2U9MSZ0eXBlJTVCJTVEPU5ldyZ0eXBlJTVCJTVEPVVzZWQmdHlwZSU1QiU1RD1DZXJ0aWZpZWQgVXNlZFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBpZih0eXBlb2YoY29uc29sZSkgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB1cmw7XG5cbn1cblxudmFyIHVwZGF0ZV9maWx0ZXJzID0gZnVuY3Rpb24oJGNvbnRhaW5lcixyZXNldCl7XG4gICAgdmFyICQgPSBqUXVlcnk7XG4gICAgdmFyIHZlaGljbGVzID0gKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGlfc2VhcmNoX3NldHRpbmdzLmZpbHRlcnMpKSk7XG4gICAgdmFyIGNvbnRhaW5lcl9maWx0ZXJzID0gW107XG4gICAgdHJ5XG4gICAge1xuICAgICAgICAvL3ZhciBhdmFpbGFibGVfZmlsdGVycyA9ICRjb250YWluZXIuZmluZCgnOmlucHV0W3R5cGU9aGlkZGVuXSw6aW5wdXRbdHlwZT1yYWRpb106c2VsZWN0ZWQsc2VsZWN0Jykubm90KFwiYnV0dG9uLFt0eXBlPXN1Ym1pdF0sW3R5cGU9dGV4dF1cIik7XG4gICAgICAgIHZhciBhdmFpbGFibGVfZmlsdGVycyA9ICRjb250YWluZXIuZmluZCgnOmlucHV0LHNlbGVjdCcpLm5vdChcImJ1dHRvbixbdHlwZT1zdWJtaXRdLFt0eXBlPXRleHRdLCAudmVoaWNsZS1nZW9SYWRpdXNcIik7XG4gICAgICAgIGlmKGF2YWlsYWJsZV9maWx0ZXJzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHRocm93IFwiTm8gZmlsdGVycyB3ZXJlIGZvdW5kIGluIGNvbnRhaW5lciFcIjtcbiAgICAgICAgJC5lYWNoKGF2YWlsYWJsZV9maWx0ZXJzLGZ1bmN0aW9uKGluZGV4LGZpbHRlcil7XG4gICAgICAgICAgICB2YXIga2V5ID0gJChmaWx0ZXIpLmF0dHIoJ25hbWUnKSA/ICQoZmlsdGVyKS5hdHRyKCduYW1lJykucmVwbGFjZSgnW10nLCcnKS5yZXBsYWNlKC9zJC9pLCcnKSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgdmFsID0gJChmaWx0ZXIpLnZhbCgpID8gJChmaWx0ZXIpLnZhbCgpLnRvU3RyaW5nKCkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIG9yZGVyID0gJChmaWx0ZXIpLmRhdGEoJ29yZGVyJykgPyAkKGZpbHRlcikuZGF0YSgnb3JkZXInKSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgaW5wdXRfdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgICAgIGlmKGtleSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzd2l0Y2goa2V5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtaWxlXCI6XG4gICAgICAgICAgICAgICAgICAgIGtleSA9ICdtaWxlcyc7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyID0gb3JkZXIgPT09IG51bGwgPyAncmFuZ2UnIDogb3JkZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvdXJfcHJpY2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicHJpY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIgPSBvcmRlciA9PT0gbnVsbCA/ICdyYW5nZScgOiBvcmRlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInR5cGVcIjpcbiAgICAgICAgICAgICAgICAgICAgb3JkZXIgPSBvcmRlciA9PT0gbnVsbCA/ICd2ZWhpY2xlLWNvbmRpdGlvbicgOiBvcmRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYoZmlsdGVyLnR5cGUgPT09ICdyYWRpbycpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9ICRjb250YWluZXIuZmluZCgnOmlucHV0W3R5cGU9cmFkaW9dW25hbWU9XCJ0eXBlW11cIl06Y2hlY2tlZCcpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGlfc2VhcmNoX3NldHRpbmdzLm5ld19vbl91c2VkID09PSAnJyB8fCBkaV9zZWFyY2hfc2V0dGluZ3MudXNlZF9vbl9uZXcgPT09ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEkKGZpbHRlcikudmFsKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGZpbHRlcikucGFyZW50KCcucmFkaW8tYnV0dG9uJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsICYmICRjb250YWluZXIuZmluZCgnOmlucHV0W3R5cGU9cmFkaW9dW25hbWU9XCJ0eXBlW11cIl06Y2hlY2tlZCcpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGZpbHRlcikuYXR0cignY2hlY2tlZCcsJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAkKGZpbHRlcikudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdmFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwieWVhclwiOlxuICAgICAgICAgICAgICAgICAgICBvcmRlciA9IG9yZGVyID09PSBudWxsID8gJ2Rlc2MnIDogb3JkZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3JkZXIgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgb3JkZXIgPSAnYXNjJztcbiAgICAgICAgICAgIGlmKHJlc2V0ID09PSB0cnVlICYmIChrZXkgIT09ICd0eXBlJyAmJiBpbnB1dF90eXBlICE9PSAnaGlkZGVuJykpXG4gICAgICAgICAgICAgICAgdmFsID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnRhaW5lcl9maWx0ZXJzLnB1c2goeydrZXknOmtleSwnc2VsZWN0ZWRfdmFsdWUnOnZhbCx2YWx1ZXM6W10sJ29yZGVyJzpvcmRlciwnZWxlbWVudCc6JChmaWx0ZXIpLCdpbnB1dF90eXBlJzogaW5wdXRfdHlwZX0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHdpbmRvdy5pbnZlbnRvcnlMaWdodG5pbmdGaWx0ZXJIb21lUGFnZUZpbHRlcnMpIHtcbiAgICAgICAgICBjb250YWluZXJfZmlsdGVycyA9IHdpbmRvdy5pbnZlbnRvcnlMaWdodG5pbmdGaWx0ZXJIb21lUGFnZUZpbHRlcnMoY29udGFpbmVyX2ZpbHRlcnMpXG4gICAgICAgIH1cbiAgICAgICAgaWYoY29udGFpbmVyX2ZpbHRlcnMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgdGhyb3cgXCJDb3VsZCBub3QgZGV0ZWN0IGZpbHRlcnMgaW4gY29udGFpbmVyIVwiO1xuICAgICAgICBpZih3aW5kb3dbJ3NlYXJjaF9maWx0ZXJzX29iamVjdCddKVxuICAgICAgICAgICAgdmVoaWNsZXMgPSBzZWFyY2hfZmlsdGVyc19vYmplY3QodmVoaWNsZXMsY29udGFpbmVyX2ZpbHRlcnMpO1xuICAgICAgICAkLmVhY2goY29udGFpbmVyX2ZpbHRlcnMsZnVuY3Rpb24oaW5kZXgsZmlsdGVyKXtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZF92YWx1ZSA9IGZpbHRlci5zZWxlY3RlZF92YWx1ZTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50X2tleSA9IGZpbHRlci5rZXk7XG4gICAgICAgICAgICAkLmVhY2godmVoaWNsZXMsZnVuY3Rpb24odWlkLHZlaGljbGUpe1xuICAgICAgICAgICAgICAgIGlmKHR5cGVvZih2ZWhpY2xlW2N1cnJlbnRfa2V5XSkgPT09ICd1bmRlZmluZWQnLyogfHwgKHNlbGVjdGVkX3ZhbHVlICE9PSBudWxsICYmIHZlaGljbGVbY3VycmVudF9rZXldICE9PSBzZWxlY3RlZF92YWx1ZSkqLylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciBza2lwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdmVoaWNsZVtjdXJyZW50X2tleV07XG4gICAgICAgICAgICAgICAgaWYoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgJC5lYWNoKGNvbnRhaW5lcl9maWx0ZXJzLGZ1bmN0aW9uKGZpLF9maWx0ZXIpe1xuICAgICAgICAgICAgICAgICAgICBpZihfZmlsdGVyLnNlbGVjdGVkX3ZhbHVlID09PSBudWxsIHx8IF9maWx0ZXIua2V5ID09PSBjdXJyZW50X2tleSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9rZXkgPSBfZmlsdGVyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhfa2V5ICsgXCIgPT4gXCIgKyB2ZWhpY2xlW19rZXldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mKHZlaGljbGVbX2tleV0pID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL0ZEICMyNTI2MSAtIGluY2x1ZGUgQ1BPIHZlaGljbGVzIHdoZW4gUHJlLU93bmVkIGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmKF9rZXkgPT09ICd0eXBlJyAmJiB0eXBlb2YoZGlfc2VhcmNoX3NldHRpbmdzLmluY2x1ZGVfY3BvX3doZW5fdXNlZF9zZWxlY3RlZCkgIT09ICd1bmRlZmluZWQnICYmIGRpX3NlYXJjaF9zZXR0aW5ncy5pbmNsdWRlX2Nwb193aGVuX3VzZWRfc2VsZWN0ZWQgPT09ICdlbmFibGVkJyAmJiBfZmlsdGVyLnNlbGVjdGVkX3ZhbHVlID09PSAnVXNlZCcgJiYgdmVoaWNsZVtfa2V5XSA9PT0gJ0NlcnRpZmllZCBVc2VkJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZVtfa2V5XSA9ICdVc2VkJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihfZmlsdGVyLnNlbGVjdGVkX3ZhbHVlICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsbG93IHBhc3NpbmcgbXVsdGlwbGUgdmFsdWVzIGluIGhpZGRlbiBmaWVsZHMgaS5lLiA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJtYWtlW11cIiB2YWx1ZT1cIlRveW90YSxTY2lvblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihfZmlsdGVyLmlucHV0X3R5cGUgPT09ICdoaWRkZW4nICYmIF9maWx0ZXIuc2VsZWN0ZWRfdmFsdWUuc2VhcmNoKCcsJykgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihfZmlsdGVyLnNlbGVjdGVkX3ZhbHVlLnNlYXJjaCh2ZWhpY2xlW19rZXldKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihfZmlsdGVyLnNlbGVjdGVkX3ZhbHVlICE9PSB2ZWhpY2xlW19rZXldKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYoc2tpcCA9PT0gZmFsc2UgJiYgJC5pbkFycmF5KHZhbHVlLGNvbnRhaW5lcl9maWx0ZXJzW2luZGV4XS52YWx1ZXMpID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyX2ZpbHRlcnNbaW5kZXhdLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgJGNvbnRhaW5lci5maW5kKFwic2VsZWN0XCIpLm5vdChcIi5ub0ZpbHRlclwiKS5maW5kKFwib3B0aW9uXCIpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmKCQoZWxlbWVudCkudmFsKCkgIT09ICcnKVxuICAgICAgICAgICAgICAgICQoZWxlbWVudCkucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmlsdGVyVmFsdWVzID0gW107XG4gICAgICAgICQuZWFjaChjb250YWluZXJfZmlsdGVycyxmdW5jdGlvbihpbmRleCxmaWx0ZXIpe1xuICAgICAgICAgICAgaWYoZmlsdGVyLnZhbHVlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc3dpdGNoKGZpbHRlci5vcmRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXNjXCI6XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci52YWx1ZXMuc29ydCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVzY1wiOlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIudmFsdWVzLnNvcnQoKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyYW5nZVwiOlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIudmFsdWVzID0gc2VhcmNoU29ydEFycmF5KGZpbHRlci52YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidmVoaWNsZS1jb25kaXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkLmVhY2goZmlsdGVyLnZhbHVlcyxmdW5jdGlvbihpLHYpe1xuICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlcy5wdXNoKCB2ICk7XG4gICAgICAgICAgICAgICAgaWYodHlwZW9mKGZpbHRlci5lbGVtZW50KSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZihmaWx0ZXIuZWxlbWVudC5pcyhcInNlbGVjdFwiKSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBmaWx0ZXIua2V5ID09PSAndHlwZScgPyB2LnJlcGxhY2UoJ1VzZWQnLCdQcmUtT3duZWQnKSA6IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA4LTMxLTE2OiB0cmFuc2xhdGUgdGV4dCBiYXNlZCBvbiBjdXJyZW50IGxhbmd1YWdlLiBSZXR1cm5zIEVuZ2xpc2ggaWYgbm8gc2Vjb25kYXJ5IGxhbmd1YWdlcyBhcmUgZGV0ZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0cmFuc2xhdGVUeXBlKCB0ZXh0ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLm9yZGVyID09PSAncmFuZ2UnKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBEZWFsZXJJbnNwaXJlSW52ZW50b3J5LmZvcm1hdC5udW1iZXIodGV4dCkucmVwbGFjZSgnLScsICcgLSAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmVsZW1lbnQuYXBwZW5kKFwiPG9wdGlvbiB2YWx1ZT0nXCIrditcIicgXCIrKGZpbHRlci5zZWxlY3RlZF92YWx1ZSAhPT0gbnVsbCAmJiB2ID09PSBmaWx0ZXIuc2VsZWN0ZWRfdmFsdWUgPyBcInNlbGVjdGVkPSdzZWxlY3RlZCdcIiA6ICcnKStcIj5cIit0ZXh0K1wiPC9vcHRpb24+XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiYm9keVwiKS50cmlnZ2VyKCdzZWFyY2hfZmlsdGVyc19yZW5kZXJlZCcsIFtmaWx0ZXJWYWx1ZXNdKTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGlmKHR5cGVvZihjb25zb2xlKSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlLnN0YWNrKTtcbiAgICB9XG59XG5cbnZhciBoYXNPbmx5TmV3VmVoaWNsZXMgPSBmdW5jdGlvbihzZWFyY2hfcGFyYW1zKXtcblxuICAgIHZhciBmaWx0ZXJzID0gZGlfc2VhcmNoX3NldHRpbmdzLmZpbHRlcnMsXG4gICAgICAgIGluUm93O1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKHNlYXJjaF9wYXJhbXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaF9wYXJhbXMuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xuICAgICAgICByZXR1cm4gKHNlYXJjaF9wYXJhbXNbJ3R5cGUnXS52YWx1ZSA9PT0gJ05ldycpID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvb3AgdGhyb3VnaCB2ZWhpY2xlcyB0byBzZWUgaWYgT25seSBOZXcgVmVoaWNsZXMgRXhpc3RcbiAgICAgKi9cbiAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBmaWx0ZXJzLmxlbmd0aCA7IGkrKykge1xuXG4gICAgICAgIGlmIChmaWx0ZXJzW2ldW1widHlwZVwiXSAhPT0gJ05ldycpIHtcbiAgICAgICAgICAgIGluUm93ID0gMTsgLy8gYXNzdW1lIHRoZSB2ZWhpY2xlIGNvbnRhaW5zIHRoZSBzZWFyY2hlZCBpdGVtc1xuXG4gICAgICAgICAgICAvL2xvb3AgdGhyb3VnaCBzZWxlY3RlZCBmaWx0ZXJzLCBzZWUgdGhlIHZhbHVlcyBtYXRjaC4gIElGIG5vdCwgc2V0IGluUm93ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gc2VhcmNoX3BhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChzZWFyY2hfcGFyYW1zW2tdLnZhbHVlICE9PSBmaWx0ZXJzW2ldW2tdKSB7XG4gICAgICAgICAgICAgICAgICAgIGluUm93ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgcm93IGNvbnRhaW5zIHRoZSBzZWFyY2hlZCBmb3IgY3JpdGVyaWEgYW5kIHRoZSB0eXBlIGRvZXMgZXF1YWwgbmV3LCByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIGlmIChpblJvdyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFdQTUwgT25seSAoIHdlIGFkZGVkIGEgbm9uLWVuZ2xpc2ggY2xhc3MgdG8gbGFuZ3VhZ2VzIHRoYXQgYXJlIG5vdCBlbmdsaXNoIHRvIG1ha2Ugc3VyZSB0aGlzIGlzbid0IHJ1bm5pbmcgZXZlcnkgdGltZSApXG4gKiBUcmFuc2xhdGUgc2VhcmNoIGZpbHRlciBvcHRpb24gVEVYVCAoIG5vdCB2YWx1ZXMgKSB3aXRoIHRyYW5zbGF0aW9ucyBsb2NhdGVkIGluIC5QTyBmaWxlIGluIGludmVudG9yeSBwbHVnaW5cbiAqL1xuaWYoIGpRdWVyeSggJ2JvZHkubm9uLWVuZ2xpc2gnICkubGVuZ3RoIClcbntcbiAgICBqUXVlcnkoXCJib2R5XCIpLm9uKCdzZWFyY2hfZmlsdGVyc19yZW5kZXJlZCcsIGZ1bmN0aW9uKGUsZmlsdGVyVmFscyl7XG5cbiAgICAgICAgaWYodHlwZW9mIGRpX3NlYXJjaF9zZXR0aW5ncy50cmFuc2xhdGVkX3ZhbHVlcyA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAge1xuICAgICAgICAgICAgZGlfc2VhcmNoX3NldHRpbmdzLnRyYW5zbGF0ZWRfdmFsdWVzID0ge307XG5cbiAgICAgICAgICAgIGpRdWVyeS5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2ltX2FqYXhfY2FsbCcsXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm06IFwidHJhbnNsYXRlX3NlYXJjaF9maWx0ZXJzXCIsIC8vIGxvY2F0ZWQgaW4gbGFuZ3VhZ2VfZnVuY3Rpb25zLnBocFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWxzOiBmaWx0ZXJWYWxzLFxuICAgICAgICAgICAgICAgICAgICBfbGFuZ3VhZ2VfY29kZTogdHlwZW9mIGljbF92YXJzID09PSAnb2JqZWN0JyAmJiBpY2xfdmFycy5jdXJyZW50X2xhbmd1YWdlICE9PSAnZW4nID8gaWNsX3ZhcnMuY3VycmVudF9sYW5ndWFnZSA6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuZG9uZSggZnVuY3Rpb24oIGRhdGEgKXtcblxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBkYXRhICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB3aW5kb3cuSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaV9zZWFyY2hfc2V0dGluZ3MudHJhbnNsYXRlZF92YWx1ZXMgPSBkYXRhO1xuXG4gICAgICAgICAgICAgICAgalF1ZXJ5KFwiYm9keVwiKS50cmlnZ2VyKCdzZWFyY2hfZmlsdGVyc19yZW5kZXJlZCcsW2ZpbHRlclZhbHNdKTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0eXBlb2YgZGlfc2VhcmNoX3NldHRpbmdzLnRyYW5zbGF0ZWRfdmFsdWVzID09PSBcIm9iamVjdFwiKVxuICAgICAgICB7XG5cbiAgICAgICAgICAgIGpRdWVyeS5lYWNoKCBkaV9zZWFyY2hfc2V0dGluZ3MudHJhbnNsYXRlZF92YWx1ZXMsIGZ1bmN0aW9uKCBrLHYgKXtcblxuICAgICAgICAgICAgICAgIHZhciAkb3B0aW9ucyA9ICQoJy5maWx0ZXJzLWNvbnRhaW5lciBvcHRpb25bdmFsdWU9XCInK2srJ1wiXScgKTtcblxuICAgICAgICAgICAgICAgIGlmKCAkb3B0aW9ucy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoay5zZWFyY2goL3ByZS1vd25lZHxuZXd8dXNlZC9pKSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gdHJhbnNsYXRlVHlwZShrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICRvcHRpb25zLnRleHQoIHYgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xufVxuXG4vKipcbiAqIFRyYW5zbGF0ZSBUeXBlIGRyb3Bkb3duIHRvIEZyZW5jaCBvciBTcGFuaXNoXG4gKiBAcGFyYW0gIHN0cmluZyB0ZXh0IFx0XHRUaGUgdGV4dCB0byB0cmFuc2xhdGVcbiAqIEByZXR1cm4gc3RyaW5nICAgICAgXHRcdGVpdGhlciB0cmFuc2xhdGVkIHRleHQgaWYgY3VycmVudCBzaXRlIGlzIGluIHNlY29uZGFyeSBsYW5ndWFnZSBtb2RlIG9yIG9yaWdpbmFsIHRleHQgaWYgbm90XG4gKi9cbmZ1bmN0aW9uIHRyYW5zbGF0ZVR5cGUoIHRleHQgKVxue1xuICAgIHZhciBpc19mciA9ICggalF1ZXJ5KCAnYm9keS5sYW5nLWZyZW5jaCcgKS5sZW5ndGggKSA/IHRydWUgOiBmYWxzZTtcbiAgICB2YXIgaXNfZXMgPSAoIGpRdWVyeSggJ2JvZHkubGFuZy1zcGFuaXNoJyApLmxlbmd0aCApID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgaWYoICFpc19mciAmJiAhaXNfZXMgKVxuICAgICAgICByZXR1cm4gdGV4dDtcblxuICAgIHN3aXRjaCggdGV4dCApXG4gICAge1xuICAgICAgICBjYXNlIFwiTmV3XCI6XG4gICAgICAgICAgICB0ZXh0ID0gKCBpc19mciApID8gJ05ldWYnIDogJ051ZXZvJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJVc2VkXCI6XG4gICAgICAgIGNhc2UgXCJQcmUtT3duZWRcIjpcbiAgICAgICAgICAgIHRleHQgPSAoIGlzX2ZyICkgPyAnZOKAmW9jY2FzaW9uJyA6ICdVc2Fkbyc7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiQ2VydGlmaWVkIFVzZWRcIjpcbiAgICAgICAgY2FzZSBcIkNlcnRpZmllZCBQcmUtT3duZWRcIjpcbiAgICAgICAgICAgIHRleHQgPSAoIGlzX2ZyICkgPyAnZOKAmW9jY2FzaW9uIENlcnRpZmnDqXMnIDogJ1VzYWRvIENlcnRpZmljYWRvJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiB0ZXh0O1xuXG59XG5cbnZhciBzZWFyY2hTb3J0QXJyYXkgPSBmdW5jdGlvbihhcnIpIHtcbiAgICB2YXIgdGVtcEFyciA9IFtdLCBuO1xuICAgIGZvciAodmFyIGkgaW4gYXJyKSB7XG4gICAgICAgIHRlbXBBcnJbaV0gPSBhcnJbaV0ubWF0Y2goLyhbXjAtOV0rKXwoWzAtOV0rKS9nKTtcbiAgICAgICAgZm9yICh2YXIgaiBpbiB0ZW1wQXJyW2ldKSB7XG4gICAgICAgICAgICBpZiggISBpc05hTihuID0gcGFyc2VJbnQodGVtcEFycltpXVtqXSkpICl7XG4gICAgICAgICAgICAgICAgdGVtcEFycltpXVtqXSA9IG47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGVtcEFyci5zb3J0KGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4geCkge1xuICAgICAgICAgICAgaWYgKHkubGVuZ3RoIDwgaSB8fCB4W2ldIDwgeVtpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTsgLy8geCBpcyBsb25nZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4W2ldID4geVtpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0pO1xuICAgIGZvciAodmFyIGkgaW4gdGVtcEFycikge1xuICAgICAgICBhcnJbaV0gPSB0ZW1wQXJyW2ldLmpvaW4oJycpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCIkIiwibGVuZ3RoIiwiZGlfc2VhcmNoX3NldHRpbmdzIiwiZmlsdGVycyIsImFqYXgiLCJ1cmwiLCJhamF4X3VybCIsInR5cGUiLCJkYXRhVHlwZSIsImRhdGEiLCJhY3Rpb24iLCJwZXJmb3JtIiwic3VjY2VzcyIsImVhY2giLCJpbmRleCIsImVsZW1lbnQiLCJ0aGF0IiwidGhpcyIsInVwZGF0ZV9maWx0ZXJzIiwiZmluZCIsImNoYW5nZSIsImUiLCJyZXNldCIsImF0dHIiLCJjbGljayIsIiRzZWFyY2hfZmllbGQiLCJEZWFsZXJJbnNwaXJlU2VhcmNoQW55dGhpbmciLCJnZXRfaW5zdGFuY2UiLCJrZXl3b3JkIiwidmFsIiwicGxhY2Vob2xkZXJfdGV4dCIsInNlbGVjdGVkX2ZpbHRlcnMiLCJhdmFpbGFibGVfZmlsdGVycyIsIm5vdCIsImZpbHRlciIsInVybF9rZXkiLCJpIiwiYSIsInJlcGxhY2UiLCJrZXkiLCJ0b1N0cmluZyIsImlzIiwidmFsdWUiLCJoYXNPbmx5TmV3VmVoaWNsZXMiLCJkaV9nZXRfc2VhcmNoX3JlZGlyZWN0X3VybCIsInJlZGlyZWN0X3VybCIsInNlYXJjaCIsIkRlYWxlckluc3BpcmVCcm93c2VyRGV0ZWN0aW9uIiwiaXNGaXJlRm94IiwiYWNmX3JlZGlyZWN0X3VybCIsImRpX2dldF9ob21lcGFnZV9hY2ZfcmVkaXJlY3RfdXJsIiwic3BsaXQiLCJ2IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGFzQ2xhc3MiLCJkaV9nZXRfZ2VvWmlwIiwid2luZG93Iiwic2VhcmNoX2ZpbHRlcnNfcmVkaXJlY3RfdXJsIiwibG9jYXRpb24iLCJocmVmIiwiY29uc29sZSIsImxvZyIsImdlb1ppcFZhbCIsImdlb1JhZGl1c1ZhbCIsInNwbGl0VVJMIiwic2VhcmNoX3Rlcm0iLCJkaV9ob21lcGFnZV9hY2ZfcmVkaXJlY3RzIiwicmVkaXJlY3RzIiwiZ3JlcCIsInIiLCJ0ZXJtcyIsImluQXJyYXkiLCJ0b0xvd2VyQ2FzZSIsInBhcnRpYWxfbWF0Y2giLCJ0ZXJtIiwibWF0Y2giLCJpbmRleE9mIiwicXVlcnkiLCJkZWFsZXJfbWFrZXMiLCJuZXdfb25fdXNlZCIsInVzZWRfb25fbmV3IiwidXNlZF92ZWhpY2xlc191cmwiLCJuZXdfdmVoaWNsZXNfdXJsIiwibWFwIiwibiIsIiRjb250YWluZXIiLCJ2ZWhpY2xlcyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImNvbnRhaW5lcl9maWx0ZXJzIiwib3JkZXIiLCJpbnB1dF90eXBlIiwicGFyZW50IiwicmVtb3ZlIiwicHVzaCIsInNlbGVjdGVkX3ZhbHVlIiwidmFsdWVzIiwiaW52ZW50b3J5TGlnaHRuaW5nRmlsdGVySG9tZVBhZ2VGaWx0ZXJzIiwic2VhcmNoX2ZpbHRlcnNfb2JqZWN0IiwiY3VycmVudF9rZXkiLCJ1aWQiLCJ2ZWhpY2xlIiwic2tpcCIsImZpIiwiX2ZpbHRlciIsIl9rZXkiLCJpbmNsdWRlX2Nwb193aGVuX3VzZWRfc2VsZWN0ZWQiLCJmaWx0ZXJWYWx1ZXMiLCJzb3J0IiwicmV2ZXJzZSIsInNlYXJjaFNvcnRBcnJheSIsInRleHQiLCJ0cmFuc2xhdGVUeXBlIiwiRGVhbGVySW5zcGlyZUludmVudG9yeSIsImZvcm1hdCIsIm51bWJlciIsImFwcGVuZCIsInRyaWdnZXIiLCJzdGFjayIsInNlYXJjaF9wYXJhbXMiLCJpblJvdyIsIk9iamVjdCIsImtleXMiLCJoYXNPd25Qcm9wZXJ0eSIsImsiLCJpc19mciIsImlzX2VzIiwib24iLCJmaWx0ZXJWYWxzIiwidHJhbnNsYXRlZF92YWx1ZXMiLCJfbGFuZ3VhZ2VfY29kZSIsImljbF92YXJzIiwiY3VycmVudF9sYW5ndWFnZSIsImRvbmUiLCIkb3B0aW9ucyIsImFyciIsInRlbXBBcnIiLCJqIiwiaXNOYU4iLCJwYXJzZUludCIsIngiLCJ5Iiwiam9pbiJdLCJtYXBwaW5ncyI6IkFBQ0FBLE9BQU9DLFVBQVVDLE1BQU0sU0FBU0MsR0FFUSxFQUFqQ0EsRUFBRSxzQkFBc0JDLGFBRWtCLElBQS9CQyxtQkFBbUJDLFNBRXpCTixPQUFPTyxLQUFLLENBQ1JDLElBQUtILG1CQUFtQkksU0FDeEJDLEtBQU0sT0FDTkMsU0FBVSxPQUNWQyxLQUFNLENBQUNDLE9BQVEsZUFBZ0JDLFFBQVMsMkJBQ3hDQyxRQUFTLFNBQVNULEdBRWRELG1CQUFtQkMsUUFBVUEsRUFDN0JILEVBQUUsc0JBQXNCYSxLQUFLLFNBQVNDLEVBQU9DLEdBQ3pDLElBQUlDLEVBQU9DLEtBQ1hDLGVBQWVsQixFQUFFZ0IsSUFDakJoQixFQUFFZ0IsR0FBTUcsS0FBSyxVQUFVQyxPQUFPLFNBQVNDLEdBQ25DLElBQUlDLEVBQWlDLFdBQXpCdEIsRUFBRWlCLE1BQU1NLEtBQUssUUFDekJMLGVBQWVsQixFQUFFZ0IsR0FBTU0sS0FHM0J0QixFQUFFZ0IsR0FBTUcsS0FBSyx1REFBdURLLE1BQU0sU0FBU0gsR0FDL0UsSUFBSUksRUFBZ0JDLDRCQUE0QkMs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
